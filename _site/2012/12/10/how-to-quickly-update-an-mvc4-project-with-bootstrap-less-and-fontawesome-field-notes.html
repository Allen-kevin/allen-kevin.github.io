<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<title> How to: Quickly update an MVC4 project with Bootstrap LESS and FontAwesome [Field Notes] </title>
	    <meta http-equiv="X-UA-Compatible" content="IE=edge">
	    <meta name="viewport" content="width=device-width, initial-scale=1">

        <!-- syntax highlighting CSS -->
        <link rel="stylesheet" href="/css/syntax.css">
        
        <!-- Bootstrap core CSS -->
    	<link href="/css/bootstrap.min.css" rel="stylesheet">

        <!-- Custom CSS -->
        <link rel="stylesheet" href="/css/main.css">

    </head>
    <body>

		<div class="container">

			<div class="col-sm-3">
				<h1>SeanKilleen.com</h1>
				<img id="about" src="/img/logo.jpg" height="75px" width="75px" /><br />	

				<strong>navigation</strong><br />
				<a href="/">home</a> <br />
				
					<a class="about" href="https://github.com/SeanKilleen">github</a><br />
				
					<a class="about" href="mailto:SeanKilleen@gmail.com">Email</a><br />
				
				
				
				<div id="about">
					<strong>about</strong><br />
					Thoughts on life and bytes from a digital twenty-something.
				</div>
				
			</div>

			<div class="col-sm-8 col-offset-1">
				
				<h1>How to: Quickly update an MVC4 project with Bootstrap LESS and FontAwesome [Field Notes]</h1>
<span class="time">10 Dec 2012</span>

<div class="content">
	<div class="post"><h3>Problem</h3>

<p>I&#39;d like to update my MVC4 project to use the following:</p>

<ul>
<li>Bootstrap LESS source (Twitter.Bootstrap.Less nuget package)</li>
<li>FontAwesome instead of Bootstrap&#39;s icon set</li>
</ul>

<p>However, this can be a pain for the following reasons:</p>

<ul>
<li>Dotless and Bootstrap&#39;s LESS used to not play nicely together</li>
<li>The &quot;@import&quot; directives sometimes gave dotless an error and had to be worked around.</li>
<li>Font-Awesome&#39;s MIME types are not all recognized by the internal webapps</li>
</ul>

<h3>Solution</h3>

<p>Thanks to the Excellent <a href="https://nuget.org/packages/Twitter.Bootstrap.Less.MVC4">Twitter.Bootstrap.Less.MVC4</a> package by Christopher Deutsch, this process is a lot easier.</p>

<h4>Install Bootstrap LESS and Dotless</h4>

<ul>
<li>Create a net ASP.NET MVC4 Web Project.</li>
<li>Open the package manager console.</li>
<li>Ensure that your MVC4 Project is set as the current project in the package manager</li>
<li>Install Chris&#39;s package by using the following command: </li>
</ul>
<div class="highlight"><pre><code class="language-text" data-lang="text">install-package Twitter.Bootstrap.Less.MVC4
</code></pre></div>
<ul>
<li>The project will automatically install dotless and Twitter.Bootstrap.Less.</ul></li>
</ul>

<h4>Reconciling BundleConfig and Bootstrap.BundleConfig</h4>

<ul>
<li>If you have an existing BundleConfig.cs that you&#39;ve made changes to, merge those changes into Bootstrap.BundleConfig.</li>
<li>If you haven&#39;t customized it, you can just delete BundleConfig.cs as all the defaults are in Bootstrap.BundleConfig.cs.</li>
</ul>

<h4>Install FontAwesome</h4>

<ul>
<li>From the package manager, run: </li>
</ul>
<div class="highlight"><pre><code class="language-text" data-lang="text">install-package FontAwesome
</code></pre></div>
<ul>
<li>In the Bootstrap.BundleConfig.cs file, add the font-awesome.css file to the StyleBundle so that the line reads as follows:</li>
</ul>
<div class="highlight"><pre><code class="language-csharp" data-lang="csharp">var css = new StyleBundle(&quot;~/Content/css&quot;)
   .Include(&quot;~/Content/site.less&quot;, &quot;~/Content/font-awesome.css&quot;);
</code></pre></div>
<ul>
<li>Open your twitter.bootstrap file and comment out the line importing sprites.less. FontAwesome and Bootstrap&#39;s sprites naturally conflict as FontAwesome is designed to replace them.</li>
</ul>

<h4>Update IIS Settings to allow FontAwesome&#39;s Static Content</h4>

<ul>
<li>Add the following to web.config in the <code>&lt;system.WebServer&gt;</code> section:</li>
</ul>
<div class="highlight"><pre><code class="language-xml" data-lang="xml">&lt;staticContent&gt;
       &lt;remove fileExtension=&quot;.svg&quot; /&gt;
       &lt;remove fileExtension=&quot;.eot&quot; /&gt;
       &lt;remove fileExtension=&quot;.woff&quot; /&gt;
       &lt;mimeMap fileExtension=&quot;.svg&quot; mimeType=&quot;image/svg+xml&quot;  /&gt;
       &lt;mimeMap fileExtension=&quot;.eot&quot; mimeType=&quot;application/vnd.ms-fontobject&quot; /&gt;
       &lt;mimeMap fileExtension=&quot;.woff&quot; mimeType=&quot;application/x-woff&quot; /&gt;
&lt;/staticContent&gt;
</code></pre></div>
<h4>Ensure That Content is Processed on the Server</h4>

<ul>
<li>In Visual Studio, Select all files in the <code>/less</code>, <code>/font</code>, and <code>/content</code> directory and in the properties for the file, ensure that the Build Action is <code>Content</code> and the Copy to Output option is <code>Copy Always</code>. This ensures that FontAwesome, Bootstrap, etc will show up in custom builds and when you package for IIS, etc.</li>
</ul>

<h3>References</h3>

<ul>
<li><a href="https://nuget.org/packages/Twitter.Bootstrap.Less">Twitter.Bootstrap.Less</a>&nbsp;[<a href="https://nuget.org/">Nuget</a>]</li>
<li><a href="https://nuget.org/packages/Twitter.Bootstrap.Less.MVC4">Twitter.Bootstrap.Less.MVC4</a> [<a href="https://nuget.org/">Nuget</a>]</li>
<li><a href="http://blog.cdeutsch.com/">CDeutsch&#39;s Blog</a>&nbsp;[<a href="http://cdeutsch.com/">CDeutsch.com</a>]</li>
<li><a href="http://stackoverflow.com/questions/13309138/how-to-get-fontawesome-to-work-on-an-azure-web-pages-deployment">How to Get FontAwesome to work on Azure web pages deployment?</a> [<a href="http://stackoverflow.com/">StackOverflow</a>]</ul></li>
</ul>
</div>
</div>

				
				<footer>
					&copy; SeanKilleen.com
					 
						- <a href="https://www.github.com/SeanKilleen">https://www.github.com/SeanKilleen</a>
					
				</footer>
			</div>
		
		</div>

	<!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    </body>
</html>
